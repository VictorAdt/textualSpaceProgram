{"ast":null,"code":"import axios from 'axios';\nexport const updateShip = async (stage, name, locationStatus, bodyLocation, id, altitude) => {\n  let partList = [];\n\n  for (let i = 0; i < stage.length; i++) {\n    let currentStage = i;\n    let tankList = [];\n    let engineList = [];\n    let commandModuleList = [];\n\n    if (stage[currentStage].tank !== undefined || stage[currentStage].engine !== undefined || stage[currentStage].commandModule !== undefined) {\n      for (let i = 0; i < stage[currentStage].tank.length; i++) {\n        if (stage[currentStage].tank[i] !== undefined) {\n          let id = stage[currentStage].tank[i].id;\n          tankList.push({\n            remaininFuel: parseInt(stage[currentStage].tank[i].remainingFuel),\n            tank: {\n              id: id\n            }\n          });\n        }\n      }\n\n      for (let i = 0; i < stage[currentStage].engine.length; i++) {\n        if (stage[currentStage].engine[i] !== undefined) {\n          let id = stage[currentStage].engine[i].id;\n          engineList.push({\n            engine: {\n              id: id\n            }\n          });\n        }\n      }\n\n      for (let i = 0; i < stage[currentStage].commandModule.length; i++) {\n        if (stage[currentStage].commandModule[i] !== undefined) {\n          let id = stage[currentStage].commandModule[i].id;\n          commandModuleList.push({\n            tank: {\n              id: id\n            }\n          });\n        }\n      }\n\n      currentStage++;\n      partList.push({\n        tank: tankList,\n        engine: engineList,\n        commandModule: commandModuleList\n      });\n    }\n  }\n\n  const data = {\n    name: name,\n    user: {\n      id: 1\n    },\n    stage: partList,\n    celest_body: {\n      id: bodyLocation\n    },\n    locationStatus: locationStatus,\n    altitudeFromParent: altitude\n  };\n  const saveShipRes = await axios({\n    method: 'PUT',\n    url: `http://localhost:1337/ships/${id}`,\n    data\n  });\n\n  if (saveShipRes.status === 200) {\n    alert('update 200');\n  }\n};","map":{"version":3,"sources":["C:/Users/doubl/Documents/Projets/Try/rocketbuilder/frontend/src/utils/updateShip.js"],"names":["axios","updateShip","stage","name","locationStatus","bodyLocation","id","altitude","partList","i","length","currentStage","tankList","engineList","commandModuleList","tank","undefined","engine","commandModule","push","remaininFuel","parseInt","remainingFuel","data","user","celest_body","altitudeFromParent","saveShipRes","method","url","status","alert"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\n\r\nexport const updateShip = async (stage, name, locationStatus, bodyLocation, id, altitude) => {\r\n    let partList = []\r\n\r\n    for (let i = 0; i < stage.length; i++) {\r\n        let currentStage = i\r\n        let tankList = []\r\n        let engineList = []\r\n        let commandModuleList = []\r\n        if (stage[currentStage].tank !== undefined || stage[currentStage].engine !== undefined || stage[currentStage].commandModule !== undefined) {\r\n            for (let i = 0; i < stage[currentStage].tank.length; i++) {\r\n                if (stage[currentStage].tank[i] !== undefined) {\r\n                    let id = stage[currentStage].tank[i].id\r\n                    tankList.push({ remaininFuel: parseInt(stage[currentStage].tank[i].remainingFuel), tank: { id: id } })\r\n                }\r\n            }\r\n            for (let i = 0; i < stage[currentStage].engine.length; i++) {\r\n                if (stage[currentStage].engine[i] !== undefined) {\r\n                    let id = stage[currentStage].engine[i].id\r\n                    engineList.push({ engine: { id: id } })\r\n                }\r\n            }\r\n            for (let i = 0; i < stage[currentStage].commandModule.length; i++) {\r\n                if (stage[currentStage].commandModule[i] !== undefined) {\r\n                    let id = stage[currentStage].commandModule[i].id\r\n                    commandModuleList.push({ tank: { id: id } })\r\n                }\r\n            }\r\n            currentStage++\r\n            partList.push({\r\n                tank: tankList,\r\n                engine: engineList,\r\n                commandModule: commandModuleList\r\n            })\r\n        }\r\n    }\r\n\r\n    const data = {\r\n        name: name,\r\n        user: {\r\n            id: 1\r\n        },\r\n        stage: partList,\r\n        celest_body: {\r\n            id: bodyLocation\r\n        },\r\n        locationStatus: locationStatus,\r\n        altitudeFromParent: altitude\r\n    }\r\n\r\n    const saveShipRes = await axios({\r\n        method: 'PUT',\r\n        url: `http://localhost:1337/ships/${id}`,\r\n        data\r\n    })\r\n    if (saveShipRes.status === 200) {\r\n        alert('update 200');\r\n    }\r\n};\r\n\r\n"]},"metadata":{},"sourceType":"module"}