{"ast":null,"code":"import axios from 'axios';\nexport const updateShip = async (stage, name, locationStatus, bodyLocation, id) => {\n  let partList = [];\n\n  for (let i = 0; i < stage.length; i++) {\n    let currentStage = i;\n    let tankList = [];\n    let engineList = [];\n    let commandModuleList = [];\n\n    if (stage[currentStage].tank !== undefined || stage[currentStage].engine !== undefined || stage[currentStage].commandModule !== undefined) {\n      for (let i = 0; i < stage[currentStage].tank.length; i++) {\n        if (stage[currentStage].tank[i] !== undefined) {\n          let id = stage[currentStage].tank[i].id;\n          tankList.push({\n            tank: {\n              id: id\n            }\n          });\n        }\n      }\n\n      for (let i = 0; i < stage[currentStage].engine.length; i++) {\n        if (stage[currentStage].engine[i] !== undefined) {\n          let id = stage[currentStage].engine[i].id;\n          engineList.push({\n            engine: {\n              id: id\n            }\n          });\n        }\n      }\n\n      for (let i = 0; i < stage[currentStage].commandModule.length; i++) {\n        if (stage[currentStage].commandModule[i] !== undefined) {\n          let id = stage[currentStage].commandModule[i].id;\n          commandModuleList.push({\n            tank: {\n              id: id\n            }\n          });\n        }\n      }\n\n      currentStage++;\n      partList.push({\n        tank: tankList,\n        engine: engineList,\n        commandModule: commandModuleList\n      });\n    }\n  }\n\n  const data = {\n    name: name,\n    user: {\n      id: 1\n    },\n    stage: partList,\n    celest_body: {\n      id: bodyLocation\n    },\n    locationStatus: locationStatus\n  };\n  const saveShipRes = await axios({\n    method: 'PUT',\n    url: `http://localhost:1337/ships/${id}`,\n    data\n  });\n\n  if (saveShipRes.status === 200) {\n    alert('200');\n  }\n};","map":{"version":3,"sources":["C:/Users/doubl/Documents/Projets/Try/rocketbuilder/frontend/src/utils/saveShip.js"],"names":["axios","updateShip","stage","name","locationStatus","bodyLocation","id","partList","i","length","currentStage","tankList","engineList","commandModuleList","tank","undefined","engine","commandModule","push","data","user","celest_body","saveShipRes","method","url","status","alert"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,UAAU,GAAG,OAAOC,KAAP,EAAcC,IAAd,EAAoBC,cAApB,EAAoCC,YAApC,EAAkDC,EAAlD,KAAyD;AAC/E,MAAIC,QAAQ,GAAG,EAAf;;AAEA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGN,KAAK,CAACO,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACnC,QAAIE,YAAY,GAAGF,CAAnB;AACA,QAAIG,QAAQ,GAAG,EAAf;AACA,QAAIC,UAAU,GAAG,EAAjB;AACA,QAAIC,iBAAiB,GAAG,EAAxB;;AACA,QAAIX,KAAK,CAACQ,YAAD,CAAL,CAAoBI,IAApB,KAA6BC,SAA7B,IAA0Cb,KAAK,CAACQ,YAAD,CAAL,CAAoBM,MAApB,KAA+BD,SAAzE,IAAsFb,KAAK,CAACQ,YAAD,CAAL,CAAoBO,aAApB,KAAsCF,SAAhI,EAA2I;AACvI,WAAK,IAAIP,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGN,KAAK,CAACQ,YAAD,CAAL,CAAoBI,IAApB,CAAyBL,MAA7C,EAAqDD,CAAC,EAAtD,EAA0D;AACtD,YAAIN,KAAK,CAACQ,YAAD,CAAL,CAAoBI,IAApB,CAAyBN,CAAzB,MAAgCO,SAApC,EAA+C;AAC3C,cAAIT,EAAE,GAAGJ,KAAK,CAACQ,YAAD,CAAL,CAAoBI,IAApB,CAAyBN,CAAzB,EAA4BF,EAArC;AACAK,UAAAA,QAAQ,CAACO,IAAT,CAAc;AAAEJ,YAAAA,IAAI,EAAE;AAAER,cAAAA,EAAE,EAAEA;AAAN;AAAR,WAAd;AACH;AACJ;;AACD,WAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGN,KAAK,CAACQ,YAAD,CAAL,CAAoBM,MAApB,CAA2BP,MAA/C,EAAuDD,CAAC,EAAxD,EAA4D;AACxD,YAAIN,KAAK,CAACQ,YAAD,CAAL,CAAoBM,MAApB,CAA2BR,CAA3B,MAAkCO,SAAtC,EAAiD;AAC7C,cAAIT,EAAE,GAAGJ,KAAK,CAACQ,YAAD,CAAL,CAAoBM,MAApB,CAA2BR,CAA3B,EAA8BF,EAAvC;AACAM,UAAAA,UAAU,CAACM,IAAX,CAAgB;AAAEF,YAAAA,MAAM,EAAE;AAAEV,cAAAA,EAAE,EAAEA;AAAN;AAAV,WAAhB;AACH;AACJ;;AACD,WAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGN,KAAK,CAACQ,YAAD,CAAL,CAAoBO,aAApB,CAAkCR,MAAtD,EAA8DD,CAAC,EAA/D,EAAmE;AAC/D,YAAIN,KAAK,CAACQ,YAAD,CAAL,CAAoBO,aAApB,CAAkCT,CAAlC,MAAyCO,SAA7C,EAAwD;AACpD,cAAIT,EAAE,GAAGJ,KAAK,CAACQ,YAAD,CAAL,CAAoBO,aAApB,CAAkCT,CAAlC,EAAqCF,EAA9C;AACAO,UAAAA,iBAAiB,CAACK,IAAlB,CAAuB;AAAEJ,YAAAA,IAAI,EAAE;AAAER,cAAAA,EAAE,EAAEA;AAAN;AAAR,WAAvB;AACH;AACJ;;AACDI,MAAAA,YAAY;AACZH,MAAAA,QAAQ,CAACW,IAAT,CAAc;AACVJ,QAAAA,IAAI,EAAEH,QADI;AAEVK,QAAAA,MAAM,EAAEJ,UAFE;AAGVK,QAAAA,aAAa,EAAEJ;AAHL,OAAd;AAKH;AACJ;;AAED,QAAMM,IAAI,GAAG;AACThB,IAAAA,IAAI,EAAEA,IADG;AAETiB,IAAAA,IAAI,EAAE;AACFd,MAAAA,EAAE,EAAE;AADF,KAFG;AAKTJ,IAAAA,KAAK,EAAEK,QALE;AAMTc,IAAAA,WAAW,EAAE;AACTf,MAAAA,EAAE,EAAED;AADK,KANJ;AASTD,IAAAA,cAAc,EAAEA;AATP,GAAb;AAYA,QAAMkB,WAAW,GAAG,MAAMtB,KAAK,CAAC;AAC5BuB,IAAAA,MAAM,EAAE,KADoB;AAE5BC,IAAAA,GAAG,EAAG,+BAA8BlB,EAAG,EAFX;AAG5Ba,IAAAA;AAH4B,GAAD,CAA/B;;AAKA,MAAIG,WAAW,CAACG,MAAZ,KAAuB,GAA3B,EAAgC;AAC5BC,IAAAA,KAAK,CAAC,KAAD,CAAL;AACH;AACJ,CAxDM","sourcesContent":["import axios from 'axios'\r\n\r\nexport const updateShip = async (stage, name, locationStatus, bodyLocation, id) => {\r\n    let partList = []\r\n\r\n    for (let i = 0; i < stage.length; i++) {\r\n        let currentStage = i\r\n        let tankList = []\r\n        let engineList = []\r\n        let commandModuleList = []\r\n        if (stage[currentStage].tank !== undefined || stage[currentStage].engine !== undefined || stage[currentStage].commandModule !== undefined) {\r\n            for (let i = 0; i < stage[currentStage].tank.length; i++) {\r\n                if (stage[currentStage].tank[i] !== undefined) {\r\n                    let id = stage[currentStage].tank[i].id\r\n                    tankList.push({ tank: { id: id } })\r\n                }\r\n            }\r\n            for (let i = 0; i < stage[currentStage].engine.length; i++) {\r\n                if (stage[currentStage].engine[i] !== undefined) {\r\n                    let id = stage[currentStage].engine[i].id\r\n                    engineList.push({ engine: { id: id } })\r\n                }\r\n            }\r\n            for (let i = 0; i < stage[currentStage].commandModule.length; i++) {\r\n                if (stage[currentStage].commandModule[i] !== undefined) {\r\n                    let id = stage[currentStage].commandModule[i].id\r\n                    commandModuleList.push({ tank: { id: id } })\r\n                }\r\n            }\r\n            currentStage++\r\n            partList.push({\r\n                tank: tankList,\r\n                engine: engineList,\r\n                commandModule: commandModuleList\r\n            })\r\n        }\r\n    }\r\n\r\n    const data = {\r\n        name: name,\r\n        user: {\r\n            id: 1\r\n        },\r\n        stage: partList,\r\n        celest_body: {\r\n            id: bodyLocation\r\n        },\r\n        locationStatus: locationStatus\r\n    }\r\n\r\n    const saveShipRes = await axios({\r\n        method: 'PUT',\r\n        url: `http://localhost:1337/ships/${id}`,\r\n        data\r\n    })\r\n    if (saveShipRes.status === 200) {\r\n        alert('200');\r\n    }\r\n};\r\n\r\n"]},"metadata":{},"sourceType":"module"}