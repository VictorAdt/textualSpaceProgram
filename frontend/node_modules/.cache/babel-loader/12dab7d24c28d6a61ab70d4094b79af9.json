{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\doubl\\\\Documents\\\\Projets\\\\Try\\\\rocketbuilder\\\\frontend\\\\src\\\\pages\\\\Builder.js\";\nimport React, { Component } from 'react';\nimport { ShipContext } from './../contexts/ShipProvider';\nimport RocketStats from '../components/rocket/RocketStats';\nimport StagesOverview from './../components/builder/StagesOverview';\nimport NameShip from '../components/builder/NameShip';\nimport SaveShip from '../components/builder/SaveShip';\n\nclass Builder extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      stage: [{\n        commandModule: [],\n        engine: [],\n        tank: []\n      }],\n      currentStage: 0\n    };\n\n    this.handleChange = e => {\n      console.log(e.target.name, e.target.value);\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.addStage = () => {\n      const stage = this.state.stage;\n      stage.push({\n        commandModule: [],\n        engine: [],\n        tank: []\n      });\n      this.setState({\n        stage: stage\n      });\n      console.log('this.state.stage', this.state.stage);\n      console.log('this.props.deltaVByStage', this.props.deltaVByStage);\n    };\n\n    this.setCurrentStage = index => {\n      this.setState({\n        currentStage: index\n      });\n      console.log('currentstate', this.state.currentStage);\n    };\n\n    this.addPart = (part, partType) => {\n      const currentStage = this.state.currentStage;\n      const stage = this.state.stage;\n\n      if (partType === 'tank') {\n        stage[currentStage].tank.push(part);\n      }\n\n      if (partType === 'engine') {\n        stage[currentStage].engine.push(part);\n      }\n\n      if (partType === 'command-module') {\n        stage[currentStage].commandModule.push(part);\n      }\n\n      this.setState({\n        stage: stage\n      }, () => {\n        this.context.shipSetStage(stage);\n      });\n      console.log('Builder this.state.stage', this.state.stage);\n    };\n  }\n\n  componentDidMount() {\n    this.context.shipSetStage(this.state.stage);\n  }\n\n  render() {\n    const currentStage = this.state.currentStage;\n    const stage = this.state.stage;\n    const value = this.context;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"builder__container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NameShip, {\n      handleInput: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(SaveShip, {\n      stage: stage,\n      name: this.state.name,\n      bodyLocation: 2,\n      locationStatus: 'ground',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }\n    }, \" current stage :\", currentStage + 1), /*#__PURE__*/React.createElement(RocketStats, {\n      shipWeight: value.state.totalMass,\n      deltaV: value.state.deltaV,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(StagesOverview, {\n      addStage: this.addStage,\n      setCurrentStage: this.setCurrentStage,\n      stage: stage,\n      addPart: this.addPart,\n      deltaVByStage: value.state.deltaVByStage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }\n    }));\n  }\n\n}\n\nBuilder.contextType = ShipContext;\nexport default Builder;","map":{"version":3,"sources":["C:/Users/doubl/Documents/Projets/Try/rocketbuilder/frontend/src/pages/Builder.js"],"names":["React","Component","ShipContext","RocketStats","StagesOverview","NameShip","SaveShip","Builder","state","stage","commandModule","engine","tank","currentStage","handleChange","e","console","log","target","name","value","setState","addStage","push","props","deltaVByStage","setCurrentStage","index","addPart","part","partType","context","shipSetStage","componentDidMount","render","totalMass","deltaV","contextType"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { ShipContext } from './../contexts/ShipProvider'\r\nimport RocketStats from '../components/rocket/RocketStats'\r\nimport StagesOverview from './../components/builder/StagesOverview'\r\nimport NameShip from '../components/builder/NameShip';\r\nimport SaveShip from '../components/builder/SaveShip';\r\n\r\nclass Builder extends Component {\r\n    state = {\r\n        stage: [{\r\n            commandModule: [],\r\n            engine: [],\r\n            tank: [],\r\n        }\r\n        ],\r\n        currentStage: 0,\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.context.shipSetStage(this.state.stage)\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        console.log(e.target.name, e.target.value);\r\n        this.setState({ [e.target.name]: e.target.value })\r\n    }\r\n\r\n    addStage = () => {\r\n        const stage = this.state.stage\r\n        stage.push({\r\n            commandModule: [],\r\n            engine: [],\r\n            tank: [],\r\n        });\r\n        this.setState({ stage: stage })\r\n        console.log('this.state.stage', this.state.stage)\r\n        console.log('this.props.deltaVByStage', this.props.deltaVByStage);\r\n    }\r\n\r\n    setCurrentStage = index => {\r\n        this.setState({ currentStage: index })\r\n        console.log('currentstate', this.state.currentStage);\r\n    }\r\n\r\n    addPart = (part, partType) => {\r\n        const currentStage = this.state.currentStage\r\n        const stage = this.state.stage\r\n        if (partType === 'tank') { stage[currentStage].tank.push(part) }\r\n        if (partType === 'engine') { stage[currentStage].engine.push(part) }\r\n        if (partType === 'command-module') { stage[currentStage].commandModule.push(part) }\r\n        this.setState({ stage: stage }, () => {\r\n            this.context.shipSetStage(stage)\r\n        })\r\n        \r\n        console.log('Builder this.state.stage', this.state.stage)\r\n    }\r\n\r\n    render() {\r\n        const currentStage = this.state.currentStage\r\n        const stage = this.state.stage\r\n        const value = this.context\r\n        return (\r\n                <div className=\"builder__container\">\r\n                    <NameShip\r\n                        handleInput={this.handleChange}\r\n                    />\r\n                    <SaveShip\r\n                        stage={stage}\r\n                        name={this.state.name}\r\n                        bodyLocation={2}\r\n                        locationStatus={'ground'}\r\n                    />\r\n                    <h2> current stage :{(currentStage + 1)}</h2>\r\n                    <RocketStats shipWeight={value.state.totalMass} deltaV={value.state.deltaV} />\r\n                    <StagesOverview\r\n                        addStage={this.addStage}\r\n                        setCurrentStage={this.setCurrentStage}\r\n                        stage={stage}\r\n                        addPart={this.addPart}\r\n                        deltaVByStage={value.state.deltaVByStage}\r\n                    />\r\n                </div>\r\n        );\r\n    }\r\n}\r\n\r\nBuilder.contextType = ShipContext;\r\n\r\nexport default Builder;\r\n\r\n"]},"metadata":{},"sourceType":"module"}